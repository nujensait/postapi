( [README IN ENGLISH](README.MD) )

## Что это?
Задача с хакатон "Express CRUD", за 08.05.2024

В рамках хакатона участникам предлагается
реализовать CRUD API, позволяющее пользователям
манипулировать постами

## Задача
Реализовать решение следующей задачи на Nodejs.

Нужно реализовать CRUD API, позволяющее пользователям манипулировать постами.

Требуется реализация API на Nodejs, которое позволяет:
- Зарегистрировать и аутентифицировать пользователя
- Регулировать права пользователя (спектр возможностей при манипуляции с постами)
- Создавать зарегистрированному пользователю новые посты с описанием
- Просматривать посты незарегистрированному пользователю
- Удалять и изменять посты пользователю, обладающему достаточными правами
- Удалять или изменять посты пользователю, являющимся автором поста

### Дополнительные условия
Выполнившим основные условия участникам
предлагается реализовать дополнительные возможности,
приносящих бонусные очки:
- Возможность лайкать посты
- Возможность банить пользователей при наличии
определённых прав
- Возможность оставлять комментарии
Обратите внимание:
- Дополнительные условия являются опциональными;
- Допускается произвольный порядок выполнения
дополнительных условий;
- Выполнение дополнительных условий не
засчитывается без выполнения всех пунктов основного
условия.

### Результат
Необходимо представить коллекцию в Postman с
запросами, реализующими функционал, описанный в
задании. 

Также необходимо выложить код проекта в
публичный репозиторий

### Оценка результата (основные критерии)
- Полнота решения
- Качество организации кода
- Корректность использования тех или иных подходов
для организации API

----

## Установка
```
npm install express sqlite3 bcryptjs jsonwebtoken

# run app
npm run dev

# run migrations
node .\db\database.js

```

## Проверка

Загрузить (импортировать) данные из файла: [postman.json](postman.json)

Или запустите отдельные запросы Postman:

```
# auth
URL: http://localhost:3005/auth/login
Method: POST
Headers: Content-Type: application/json
Body (raw JSON):
{
  "username": "newuser",
  "password": "password123"
}

# create post
URL: http://localhost:3005/posts
Method: POST
Headers:
  Content-Type: application/json
  Authorization: Bearer [Token]  // Замените [Token] на токен, полученный при аутентификации
Body (raw JSON):
{
  "title": "New Post Title",
  "description": "Description of the new post."
}

# get posts
URL: http://localhost:3005/posts
Method: GET
Headers: None

# update post
URL: http://localhost:3005/posts/1  // Замените '1' на ID поста, который вы хотите обновить
Method: PUT
Headers:
  Content-Type: application/json
  Authorization: Bearer [Token]
Body (raw JSON):
{
  "title": "Updated Post Title",
  "description": "Updated description of the post."
}

# delete post
URL: http://localhost:3005/posts/1  // Замените '1' на ID поста, который вы хотите удалить
Method: DELETE
Headers:
  Authorization: Bearer [Token]
```

## Нужны доработки 
- использовать authMiddleware для операций CRUD сообщений (теперь аутентификация здесь пропускается)
- исправлена ошибка при регистрации/авторизации (сейчас не работает)